<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YTDownloader Pro | Fast YouTube Video Downloader - MP4 MP3 Free</title>

    <!-- SEO Meta Tags -->
    <meta name="description" content="Download YouTube videos instantly in MP4 and MP3 format. No waiting, fast downloads, HD quality, completely free.">
    <meta name="keywords" content="youtube downloader, youtube to mp3, youtube to mp4, download youtube videos, free video downloader">
    <meta name="author" content="YTDownloader Pro">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0f0f 0%, #1a1a1a 100%);
            color: white;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #ff0000 0%, #cc0000 100%);
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .download-btn {
            background: linear-gradient(90deg, #ff0000, #ff3333);
            transition: all 0.3s ease;
        }
        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(255, 0, 0, 0.3);
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>

    <!-- Google Adsense (अपना code लगाना) -->
    <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-XXXXXXXXXXXXXXXX" crossorigin="anonymous"></script> -->
</head>
<body class="min-h-screen">

    <!-- Header -->
    <header class="py-6 px-4 border-b border-gray-800">
        <div class="container mx-auto max-w-6xl flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="gradient-bg p-3 rounded-xl">
                    <i class="fab fa-youtube text-white text-2xl"></i>
                </div>
                <div>
                    <h1 class="text-2xl font-black">YTDownloader <span class="text-red-500">Pro</span></h1>
                    <p class="text-xs text-gray-400">Fast & Free YouTube Downloader</p>
                </div>
            </div>

            <div class="hidden md:flex items-center gap-2">
                <span class="px-3 py-1 bg-green-900/30 rounded-full text-xs">
                    <i class="fas fa-bolt mr-1"></i> Instant Download
                </span>
                <span class="px-3 py-1 bg-blue-900/30 rounded-full text-xs">
                    <i class="fas fa-shield-alt mr-1"></i> 100% Safe
                </span>
            </div>
        </div>
    </header>

    <!-- Main Section -->
    <main class="py-12 px-4">
        <div class="container mx-auto max-w-4xl text-center">
            <h1 class="text-4xl md:text-5xl font-black mb-6">
                Download <span class="text-red-500">YouTube Videos</span>
                <br><span class="text-3xl md:text-4xl text-gray-300">In One Click</span>
            </h1>

            <p class="text-gray-400 text-lg mb-10 max-w-2xl mx-auto">
                No waiting, no redirects. Paste link and download instantly in MP4 or MP3 format.
            </p>

            <!-- Download Box -->
            <div class="glass-card p-2 rounded-2xl mb-8 max-w-3xl mx-auto">
                <div class="flex flex-col md:flex-row gap-3">
                    <input 
                        type="text" 
                        id="videoUrl"
                        placeholder="Paste YouTube video URL here..."
                        class="flex-1 bg-gray-900 border border-gray-700 p-4 rounded-xl text-white outline-none focus:border-red-500"
                        value="https://youtu.be/dQw4w9WgXcQ"
                    >
                    <button 
                        onclick="analyzeVideo()"
                        class="download-btn px-8 py-4 rounded-xl font-bold text-lg pulse-animation"
                    >
                        <i class="fas fa-download mr-2"></i> ANALYZE & DOWNLOAD
                    </button>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="flex flex-wrap justify-center gap-6 mb-12">
                <div class="text-center">
                    <div class="text-3xl font-bold text-red-500">1M+</div>
                    <div class="text-gray-400 text-sm">Downloads</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-red-500">99%</div>
                    <div class="text-gray-400 text-sm">Success Rate</div>
                </div>
                <div class="text-center">
                    <div class="text-3xl font-bold text-red-500">0s</div>
                    <div class="text-gray-400 text-sm">Waiting Time</div>
                </div>
            </div>

            <!-- Results -->
            <div id="results" class="hidden mt-12">
                <div class="glass-card p-8 rounded-3xl max-w-2xl mx-auto">
                    <div class="flex flex-col md:flex-row gap-8 items-center">
                        <!-- Thumbnail -->
                        <div class="md:w-1/3">
                            <img id="videoThumb" class="w-full rounded-xl shadow-2xl" src="" alt="Video Thumbnail">
                        </div>

                        <!-- Download Options -->
                        <div class="md:w-2/3">
                            <h3 id="videoTitle" class="text-xl font-bold mb-6 text-left">Video Ready to Download</h3>

                            <div class="space-y-4">
                                <button onclick="downloadVideo('mp4', '720p')" class="download-btn w-full p-4 rounded-xl text-lg font-bold">
                                    <i class="fas fa-video mr-3"></i> DOWNLOAD MP4 (720p HD)
                                </button>

                                <button onclick="downloadVideo('mp4', '360p')" class="w-full p-4 rounded-xl font-bold border-2 border-gray-700 hover:bg-gray-800 transition">
                                    <i class="fas fa-video mr-3"></i> DOWNLOAD MP4 (360p)
                                </button>

                                <button onclick="downloadVideo('mp3', '128kbps')" class="download-btn w-full p-4 rounded-xl text-lg font-bold">
                                    <i class="fas fa-music mr-3"></i> DOWNLOAD MP3 (High Quality Audio)
                                </button>
                            </div>

                            <p class="text-gray-400 text-sm mt-6">
                                <i class="fas fa-info-circle mr-2"></i> Download will start automatically in your browser
                            </p>
                        </div>
                    </div>

                    <!-- Ad Space -->
                    <div class="mt-8 p-4 bg-gray-900 rounded-xl text-center">
                        <p class="text-gray-400 text-sm mb-2">Advertisement</p>
                        <div class="h-[100px] bg-gray-800 rounded-lg flex items-center justify-center">
                            <p class="text-gray-500">Ad Space (Responsive)</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Features -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-16">
                <div class="glass-card p-6 rounded-2xl">
                    <div class="text-red-500 text-3xl mb-4">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">Instant Download</h3>
                    <p class="text-gray-400">No waiting time. Download starts immediately after clicking.</p>
                </div>

                <div class="glass-card p-6 rounded-2xl">
                    <div class="text-red-500 text-3xl mb-4">
                        <i class="fas fa-lock"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">No Redirects</h3>
                    <p class="text-gray-400">Direct download links. No annoying redirect pages.</p>
                </div>

                <div class="glass-card p-6 rounded-2xl">
                    <div class="text-red-500 text-3xl mb-4">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <h3 class="text-xl font-bold mb-3">All Devices</h3>
                    <p class="text-gray-400">Works perfectly on PC, Android, iPhone, and Tablet.</p>
                </div>
            </div>
        </div>
    </main>

    <!-- How To Section -->
    <section class="py-12 px-4 bg-gray-900 mt-12">
        <div class="container mx-auto max-w-4xl">
            <h2 class="text-3xl font-bold text-center mb-10">How to Download in 10 Seconds</h2>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold">1</div>
                    <h3 class="font-bold mb-2">Copy YouTube Link</h3>
                    <p class="text-gray-400">Go to YouTube and copy video URL from address bar</p>
                </div>

                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold">2</div>
                    <h3 class="font-bold mb-2">Paste & Analyze</h3>
                    <p class="text-gray-400">Paste link above and click Analyze & Download button</p>
                </div>

                <div class="text-center">
                    <div class="w-16 h-16 gradient-bg rounded-full flex items-center justify-center mx-auto mb-4 text-2xl font-bold">3</div>
                    <h3 class="font-bold mb-2">Download Instantly</h3>
                    <p class="text-gray-400">Choose MP4 or MP3 and download starts immediately</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-12 px-4 border-t border-gray-800">
        <div class="container mx-auto max-w-4xl text-center">
            <div class="flex items-center justify-center gap-3 mb-6">
                <div class="gradient-bg p-3 rounded-xl">
                    <i class="fab fa-youtube text-white text-2xl"></i>
                </div>
                <h2 class="text-2xl font-black">
                    YTDownloader <span class="text-red-500">Pro</span>
                </h2>
            </div>

            <p class="text-gray-400 mb-8 max-w-2xl mx-auto">
                Free YouTube video downloader. Download videos for personal use only. Respect copyright laws.
            </p>

            <div class="flex flex-wrap justify-center gap-6 mb-8">
                <a href="#" class="text-gray-400 hover:text-white">Terms</a>
                <a href="#" class="text-gray-400 hover:text-white">Privacy</a>
                <a href="#" class="text-gray-400 hover:text-white">DMCA</a>
                <a href="#" class="text-gray-400 hover:text-white">Contact</a>
                <a href="#" class="text-gray-400 hover:text-white">FAQ</a>
            </div>

            <p class="text-gray-500 text-sm">
                © 2025 YTDownloader Pro. This tool is not affiliated with YouTube.
            </p>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        let currentVideoId = '';

        function analyzeVideo() {
            const urlInput = document.getElementById('videoUrl');
            let url = urlInput.value.trim();

            if (!url) {
                alert('Please paste a YouTube URL first!');
                return;
            }

            const videoId = extractVideoId(url);
            if (!videoId) {
                alert('Invalid YouTube URL. Please check and try again.');
                return;
            }

            currentVideoId = videoId;

            // Show thumbnail
            document.getElementById('videoThumb').src = `https://i.ytimg.com/vi/${videoId}/hqdefault.jpg`;

            // Optional: Show title placeholder (real title ke liye extra API call chahiye)
            document.getElementById('videoTitle').textContent = 'Video Ready – Choose Format Below';

            document.getElementById('results').classList.remove('hidden');
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });

            showNotification('Video analyzed successfully! Select your format to download.');
        }

        function extractVideoId(url) {
            const patterns = [
                /(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?|shorts)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/\s]{11})/,
                /youtube\.com\/watch\?v=([^&]{11})/,
                /youtu\.be\/([^?]{11})/,
                /youtube\.com\/shorts\/([^?]{11})/
            ];

            for (const pattern of patterns) {
                const match = url.match(pattern);
                if (match && match[1]) return match[1];
            }
            return null;
        }

        async function downloadVideo(type, quality) {
            if (!currentVideoId) {
                alert('Please analyze a video first!');
                return;
            }

            showNotification('Preparing real download... Please wait (5-30 seconds depending on video size)');

            const params = new URLSearchParams({
                videoId: currentVideoId,
                type: type,
                quality: quality
            });

            try {
                const response = await fetch(`/api/download?${params.toString()}`);

                if (!response.ok) {
                    const errorText = await response.text();
                    throw new Error(`Download failed: ${response.status} - ${errorText}`);
                }

                const blob = await response.blob();
                const url = URL.createObjectURL(blob);

                const a = document.createElement('a');
                a.href = url;
                a.download = type === 'mp3' 
                    ? `${currentVideoId}_audio.mp3` 
                    : `\( {currentVideoId}_ \){quality}.mp4`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);

                showNotification('Download started successfully! Check your Downloads folder.');
            } catch (err) {
                showNotification('Sorry, download failed. Try a different video or check your connection.');
                console.error('Download error:', err);
            }
        }

        function showNotification(message) {
            const notif = document.createElement('div');
            notif.className = 'fixed top-4 right-4 bg-green-600 text-white px-6 py-3 rounded-xl shadow-2xl z-50 transform transition-all';
            notif.innerHTML = `<div class="flex items-center gap-3"><i class="fas fa-check-circle"></i><span>${message}</span></div>`;
            document.body.appendChild(notif);

            setTimeout(() => {
                notif.style.opacity = '0';
                setTimeout(() => notif.remove(), 500);
            }, 4000);
        }

        // Auto-paste from clipboard on focus
        document.getElementById('videoUrl').addEventListener('focus', async function () {
            try {
                const text = await navigator.clipboard.readText();
                if (text.includes('youtube.com') || text.includes('youtu.be')) {
                    this.value = text.trim();
                }
            } catch (err) {
                // Clipboard permission denied – ignore
            }
        });

        // Enter key to analyze
        document.getElementById('videoUrl').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                analyzeVideo();
            }
        });

        // Focus input on load
        window.onload = function () {
            document.getElementById('videoUrl').focus();
        };
    </script>
</body>
</html>